function actualizarMetaTags(e){document.querySelector('meta[property="og:title"]').setAttribute("content",e.name),document.querySelector('meta[property="og:description"]').setAttribute("content",e.description),document.querySelector('meta[property="og:image"]').setAttribute("content",e.image),document.querySelector('meta[property="og:url"]').setAttribute("content",window.location.href)}function renderTuningControls(e){let r=document.getElementById("tuningControls"),o=document.getElementById("tuningSliderTemplate");r.innerHTML="",Object.entries(e).forEach(([,e])=>{let t=document.createElement("div");t.className="tuning-group";var n=document.createElement("h2");n.className="group-title",n.textContent=e.title,t.appendChild(n),Object.entries(e.settings).forEach(([,e])=>{e=createTuningSlider(o,e);t.appendChild(e)}),r.appendChild(t)})}function createTuningSlider(t,n){var t=t.content.cloneNode(!0),r=t.querySelector(".slider-container"),r=(n.highlighted&&r.classList.add("highlighted"),t.querySelector(".slider-label").textContent=n.label,t.querySelector(".slider"));if(n.isAlignment){var o=Math.round(100*n.value),a=Math.round(100*n.min),i=Math.round(100*n.max);r.min=a,r.max=i,r.value=o;let e;e=n.value<0?`-0.${Math.abs(o).toString().padStart(2,"0")}°`:`0.${o.toString().padStart(2,"0")}°`,t.querySelector(".slider-value").textContent=e,updateSliderPosition(r,a,i,o)}else r.min=n.min,r.max=n.max,r.value=n.value,n.dualValues?([a,i]=n.value,t.querySelector(".slider-value-front").textContent=a+"% - ",t.querySelector(".slider-value-rear").textContent=i+"%",updateDualSliderPosition(r,n.min,n.max,a,i)):(o=n.value+"%",t.querySelector(".slider-value").textContent=o,updateSliderPosition(r,n.min,n.max,n.value));return r.disabled=!0,t.querySelector(".left-label").textContent=n.leftLabel,t.querySelector(".right-label").textContent=n.rightLabel,t}function configureBackButton(){var e=localStorage.getItem("currentCategory")||"";let t=document.querySelector(".back-button");t.href="index.html?category="+encodeURIComponent(e),t.addEventListener("click",e=>{document.startViewTransition&&(e.preventDefault(),document.startViewTransition(()=>{window.location.href=t.href}))})}function updateSliderPosition(e,t,n,r){e.style.backgroundSize=(r-t)/(n-t)*100+"% 100%"}function updateDualSliderPosition(e,t,n,r,o){o=(o-t)/(n-t)*100;e.style.background=`linear-gradient(to right, #f7d538 ${(r-t)/(n-t)*100}%, #fae27f ${o}%, #ccc ${o}%)`}document.addEventListener("DOMContentLoaded",()=>{let t=new URLSearchParams(window.location.search).get("id");var e,n=carsData.cars.find(e=>e.id===t);n?(document.getElementById("pageTitle").textContent=n.name+" - The Crew Motorfest",actualizarMetaTags(n),(e=document.getElementById("brandLogo")).src=n.brand.logo,e.alt=n.brand.name,document.getElementById("carName").textContent=n.name,document.getElementById("carInfo").textContent=`${n.brand.name} • ${n.year} • `+n.category,(e=document.getElementById("carImage")).src=n.image,e.alt=n.name,e.style.viewTransitionName="car-image-"+n.id,document.getElementById("carDescription").textContent=n.description,renderTuningControls(n.tuning),configureBackButton()):(console.error("Auto no encontrado:",t),window.location.href="index.html")});